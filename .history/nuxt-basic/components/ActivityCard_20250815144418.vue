<template>
  <div class="card-row-wrapper">
    <button class="arrow-btn left" @click="scrollLeft">
      <img src="https://cdn-icons-png.flaticon.com/128/5343/5343109.png" alt="Left" width="32" />
    </button>
    <div ref="cardRow" class="card-row">
      <button class="card-container">
        <img
          src="https://tse3.mm.bing.net/th/id/OIP.qlsg6XQFnujSd7Xwi7Ad1gHaE7?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"
          alt="image"
          class="card-image"
        />
        <div class="card-info-overlay">
          <h2 class="card-title">การสังเกตท้องฟ้าและดาราศาสตร์</h2>
          <p class="card-desc">
            เปิดประสบการณ์ดูดาวผ่านกล้องโทรทรรศน์<br />
            พร้อมอธิบายจากผู้เชี่ยวชาญ
          </p>
          <div class="card-meta">
            <span class="card-location">
              <img
                src="https://cdn-user-icons.flaticon.com/67588/67588139/1755229324023.svg?token=exp=1755230239~hmac=4f752108a095f58b66c494ccd34488f9"
                alt="location"
                width="16"
                height="16"
              />
              Location M1
            </span>
            <span class="card-views">
              <img
                src="https://cdn-user-icons.flaticon.com/67588/67588139/1755229374889.svg?token=exp=1755230274~hmac=1e7e4cddc8150a58b626e10aa08ecfb2"
                alt="views"
                width="16"
                height="16"
              />
              2.5k
            </span>
          </div>
        </div>
      </button>
      <button class="card-container">
        <img
          src="https://tse3.mm.bing.net/th/id/OIP.qlsg6XQFnujSd7Xwi7Ad1gHaE7?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"
          alt="image"
          class="card-image"
        />
        <div class="card-info-overlay">
          <h2 class="card-title">การสังเกตท้องฟ้าและดาราศาสตร์</h2>
          <p class="card-desc">
            เปิดประสบการณ์ดูดาวผ่านกล้องโทรทรรศน์<br />
            พร้อมอธิบายจากผู้เชี่ยวชาญ
          </p>
          <div class="card-meta">
            <span class="card-location">
              <img
                src="https://cdn-user-icons.flaticon.com/67588/67588139/1755229324023.svg?token=exp=1755230239~hmac=4f752108a095f58b66c494ccd34488f9"
                alt="location"
                width="16"
                height="16"
              />
              Location M1
            </span>
            <span class="card-views">
              <img
                src="https://cdn-user-icons.flaticon.com/67588/67588139/1755229374889.svg?token=exp=1755230274~hmac=1e7e4cddc8150a58b626e10aa08ecfb2"
                alt="views"
                width="16"
                height="16"
              />
              2.5k
            </span>
          </div>
        </div>
      </button>
      <button class="card-container">
        <img
          src="https://tse3.mm.bing.net/th/id/OIP.qlsg6XQFnujSd7Xwi7Ad1gHaE7?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"
          alt="image"
          class="card-image"
        />
        <div class="card-info-overlay">
          <h2 class="card-title">การสังเกตท้องฟ้าและดาราศาสตร์</h2>
          <p class="card-desc">
            เปิดประสบการณ์ดูดาวผ่านกล้องโทรทรรศน์<br />
            พร้อมอธิบายจากผู้เชี่ยวชาญ
          </p>
          <div class="card-meta">
            <span class="card-location">
              <img
                src="https://cdn-user-icons.flaticon.com/67588/67588139/1755229324023.svg?token=exp=1755230239~hmac=4f752108a095f58b66c494ccd34488f9"
                alt="location"
                width="16"
                height="16"
              />
              Location M1
            </span>
            <span class="card-views">
              <img
                src="https://cdn-user-icons.flaticon.com/67588/67588139/1755229374889.svg?token=exp=1755230274~hmac=1e7e4cddc8150a58b626e10aa08ecfb2"
                alt="views"
                width="16"
                height="16"
              />
              2.5k
            </span>
          </div>
        </div>
      </button>
      <button class="card-container">
        <img
          src="https://tse3.mm.bing.net/th/id/OIP.qlsg6XQFnujSd7Xwi7Ad1gHaE7?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"
          alt="image"
          class="card-image"
        />
        <div class="card-info-overlay">
          <h2 class="card-title">การสังเกตท้องฟ้าและดาราศาสตร์</h2>
          <p class="card-desc">
            เปิดประสบการณ์ดูดาวผ่านกล้องโทรทรรศน์<br />
            พร้อมอธิบายจากผู้เชี่ยวชาญ
          </p>
          <div class="card-meta">
            <span class="card-location">
              <img
                src="https://cdn-user-icons.flaticon.com/67588/67588139/1755229324023.svg?token=exp=1755230239~hmac=4f752108a095f58b66c494ccd34488f9"
                alt="location"
                width="16"
                height="16"
              />
              Location M1
            </span>
            <span class="card-views">
              <img
                src="https://cdn-user-icons.flaticon.com/67588/67588139/1755229374889.svg?token=exp=1755230274~hmac=1e7e4cddc8150a58b626e10aa08ecfb2"
                alt="views"
                width="16"
                height="16"
              />
              2.5k
            </span>
          </div>
        </div>
      </button>
      <button class="card-container">
        <img
          src="https://tse3.mm.bing.net/th/id/OIP.qlsg6XQFnujSd7Xwi7Ad1gHaE7?r=0&rs=1&pid=ImgDetMain&o=7&rm=3"
          alt="image"
          class="card-image"
        />
        <div class="card-info-overlay">
          <h2 class="card-title">การสังเกตท้องฟ้าและดาราศาสตร์</h2>
          <p class="card-desc">
            เปิดประสบการณ์ดูดาวผ่านกล้องโทรทรรศน์<br />
            พร้อมอธิบายจากผู้เชี่ยวชาญ
          </p>
          <div class="card-meta">
            <span class="card-location">
              <img
                src="https://cdn-user-icons.flaticon.com/67588/67588139/1755229324023.svg?token=exp=1755230239~hmac=4f752108a095f58b66c494ccd34488f9"
                alt="location"
                width="16"
                height="16"
              />
              Location M1
            </span>
            <span class="card-views">
              <img
                src="https://cdn-user-icons.flaticon.com/67588/67588139/1755229374889.svg?token=exp=1755230274~hmac=1e7e4cddc8150a58b626e10aa08ecfb2"
                alt="views"
                width="16"
                height="16"
              />
              2.5k
            </span>
          </div>
        </div>
      </button>
    </div>
    <button class="arrow-btn right" @click="scrollRight">
      <img src="https://cdn-icons-png.flaticon.com/128/271/271228.png" alt="Right" width="32" />
    </button>
  </div>
</template>

<script setup>
import { ref } from 'vue'
const cardRow = ref(null)

function scrollLeft() {
  if (cardRow.value) cardRow.value.scrollBy({ left: -400, behavior: 'smooth' })
}
function scrollRight() {
  if (cardRow.value) cardRow.value.scrollBy({ left: 400, behavior: 'smooth' })
}
</script>

<style scoped>
.card-row-wrapper {
  display: flex;
  align-items: center;
  width: 100%;
  position: relative;
  justify-content: center;
}

.arrow-btn {
  border: none;
  border-radius: 50%;
  padding: 6px;
  cursor: pointer;
  z-index: 2;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.2s;
}

.arrow-btn.left {
  margin-right: 8px;
}

.arrow-btn.right {
  margin-left: 8px;
}

.card-row {
  display: flex;
  gap: 24px; 
  overflow-x: auto;
  scroll-behavior: smooth;
  padding: 8px 0;
  width: auto; 
  max-width: 100vw;
  scrollbar-width: none;
  -ms-overflow-style: none;
}
.card-container {
  position: relative;
  background: none;
  border: none;
  border-radius: 31px;
  padding: 0;
  margin-bottom: 16px;
  min-width: 400px;
  max-width: 400px;
  height: 450px;
  overflow: hidden;
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.15);
  cursor: pointer;
}

.card-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.card-info-overlay {
  position: absolute;
  left: 0;
  bottom: 0;
  width: 100%;
  height: 180px;
  opacity: 90%;
  background: linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.85) 100%,
    rgba(0, 0, 0, 0.2) 100%
  );
  color: #f8f8f8;
  padding: 16px 16px 12px 16px;
  border-bottom-left-radius: 31px;
  border-bottom-right-radius: 31px;
  border-top-left-radius: 31px;
  border-top-right-radius: 31px;
}

.card-title {
  font-size: 1.1rem;
  font-weight: bold;
  margin: 5px 0 4px 0;
}

.card-desc {
  font-size: 0.95rem;
  margin: 0 0 12px 0;
  opacity: 0.85;
  line-height: 1.3;
}

.card-meta {
  display: flex;
  padding-top: 38px;
  align-items: center;
  font-size: 0.95rem;
  gap: 16px;
  justify-content: space-between;
}

.card-location {
  display: flex;
  align-items: center;
  gap: 7px;
  opacity: 0.85;
}

.card-views {
  display: flex;
  align-items: center;
  gap: 7px;
  opacity: 0.85;
  margin-left: auto;
}

@media (max-width: 1028px) {
  .card-row {
    overflow-x: hidden;      /* Hide horizontal scroll */
    justify-content: center; /* Center the card */
  }
  .card-container {
    width: 280px;
    max-width: 280px;
    min-width: unset;
    height: 315px; /* 8:9 aspect ratio: 280 * 9 / 8 = 315 */
    margin: 0 auto;
    flex: 0 0 280px;
  }
  .card-meta{
    padding-top:20px
  }
  .arrow-btn img {
    width: 20px;
    height: 20px;
  }
}

}
</style>
